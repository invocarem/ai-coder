# Augustine MCP Server (Cassandra + MCP)

This is a standalone MCP server that connects remotely to a Cassandra database.  
It is designed to be deployed alongside Cassandra using Docker Compose.

## Build the image

```bash
# From the project root
docker build -t augustine-mcp -f services/augustine-server/Dockerfile .
```

## Run the service (recommended with docker-compose)

```bash
# Start both Cassandra and Augustine MCP server
docker-compose up
```

This will:
1. Start `cassandra-server` (listening on port 9042)
2. Start `augustine-mcp` (MCP server via stdio, no HTTP port exposed)
3. Connect `augustine-mcp` to Cassandra using `CASSANDRA_HOST=cassandra-server`

## MCP Tools

| Tool Name | Description |
|----------|-------------|
| `analyze_psalm` | Process a psalm query using the Augustine RAG processor. Input: `pattern_data`, `model`, `stream` (optional), `original_data` (optional). Returns JSON result. |
| `get_psalm_health` | Check the health status of the Augustine processor. Returns health information. |

### Example `analyze_psalm` call (via Cline):

```json
{
  "pattern_data": {
    "pattern": "psalm_query",
    "psalm_number": 23,
    "question": "What does Augustine say about Psalm 23?"
  },
  "model": "gpt-4o-mini",
  "stream": false,
  "original_data": {}
}
```

## Notes

* The `augustine-mcp` container does **not** include Cassandra â€” it connects to it remotely via network.
* The `CASSANDRA_HOST` environment variable (set to `cassandra-server` in docker-compose) configures the connection.
* Use `docker-compose.yml` to manage the full stack.
* If you need to modify the processor or add additional tools, edit `services/augustine-server/augustine_server.py` and rebuild the image.

---  

*Generated by Cline AI.*
